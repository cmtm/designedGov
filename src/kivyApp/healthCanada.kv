HealthCanada:
	name: 'Health Canada'
	port: 10003
	address: 'localhost'
	hostId: u'9F32383582053809'
	TabbedPanel:
		do_default_tab: False
		tab_width: 200

		TabbedPanelItem:
			text: 'Medical Records'
			
			Carousel:
				direction: 'right'
				
				# medical records by time
				FloatLayout:
					
					Label: 
						text: 'By time'
						bold: True
						font_size: 30
						halign: 'center'
						valign: 'middle'
						pos_hint: {'top':1}
						size_hint: (1, 0.1)
						# wat
						text_size: self.size
					
					Label: 
						text: '>'
						bold: True
						font_size: 30					
						valign: 'middle'
						halign: 'right'
						pos_hint: {'top': 1}
						size_hint: (1, 0.1)
						# wat
						text_size: self.size
							
						

					Accordion:
						orientation: 'vertical'
						pos_hint: {'top': 0.9}
						size_hint: (1, 0.9)
						
						AccordionItem:
							title: 'Recent'

							ListView:
								item_strings: ['what: {}   where: {}   when: {}'.format(a['event'], a['location'], a['date']) for a in root.d['history']]

						AccordionItem:
							title: '2012'
							
							ListView:
								item_strings: ['what: {}   where: {}   when: {}'.format(a['event'], a['location'], a['date']) for a in root.d['history']]
						
						AccordionItem:
							title: '2011'
							
							ListView:
								item_strings: ['what: {}   where: {}   when: {}'.format(a['event'], a['location'], a['date']) for a in root.d['history']]
				
						
							
				# health profile
				FloatLayout:
					
					Label: 
						text: 'Health Profile'
						bold: True
						font_size: 30
						halign: 'center'
						valign: 'middle'
						pos_hint: {'top':1}
						size_hint: (1, 0.1)
						# wat
						text_size: self.size
						
					Label: 
						text: '<'
						bold: True
						font_size: 30
						halign: 'left'
						valign: 'middle'
						pos_hint: {'top': 1}
						size_hint: (1, 0.1)
						# wat
						text_size: self.size

					Accordion:
						pos_hint: {'top': 0.9}
						size_hint: (1, 0.9)
						orientation: 'vertical'
							
						AccordionItem:					
							title: 'Basic Information'
							
							BoxLayout:
								orientation: 'vertical'

								Label:
									text: 'Height: {}   Weight: {}   Blood Type: {}'.format(root.d['basic']['height'], root.d['basic']['weight'], root.d['basic']['blood'])
									
								BoxLayout:
									orientation: 'horizontal'
									
									Label:
										text: 'Allergies: '
									
									ListView:
										item_strings: ['{} ({})'.format(a['allergen'], a['severity']) for a in root.d['allergies']]
								
								BoxLayout:
									orientation: 'horizontal'
									
									Label:
										text: 'Important Medical considerations: '
									
									ListView:
										item_strings: [c['description'] for c in root.d['considerations']]
						
						AccordionItem:
							title: 'Illnesses'
							ListView:
								item_strings: [i['illness'] for i in root.d['illnesses']]
						
						AccordionItem:
							title: 'People'
								
							BoxLayout:
								orientation: 'vertical'
									
								Label:
									text: 'Emergency contact person: {}'.format(root.d['emergency contact'])
								
								Label:
									text: 'Family Doctor: {}'.format(root.d['family doctor'])


		TabbedPanelItem:
			text: 'Appointments'

			BoxLayout:
				padding: 10
				orientation: 'vertical'

				# recent hosts. might change to "top" hosts and make a tree view
				BoxLayout:
					orientation: 'horizontal'

					Label:
						text: 'Upcomming Appointments: '
						size_hint: (0.23, 1)

					ListView:
						item_strings: ['what: {}   where: {}   when: {}'.format(a['short reason'], a['location'], a['date']) for a in root.d['appointments']]

				AnchorLayout:
					size_hint_y: 0.2
					anchor_x: 'center'
					anchor_y: 'center'
					
					Button:
						size_hint: (0.3, 0.5)
						text: 'Schedule new appointment'
							


		TabbedPanelItem:
			text: 'eDoctor'

			Label:
				text: 'Coming Soon.' # TODO

